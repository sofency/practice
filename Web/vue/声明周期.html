<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div id="app">
			<button @click="destroyVM">destory vue</button>
			<p v-show="isShow">Sofency</p>
			<p>{{isShow}}</p>
			<p>{{isShow}}</p>
			<p>{{isShow}}</p>
		</div>
		
		<!--
		vue的生命周期
			1)初始化显示
			beforeCreate()
			created()
			beforeMount()
			mounted()
			2)更新显示
			beforeUpdate()
			updated()
			3)销毁vue实例  vm.$destroy()
			beforeStroy()
			destroyed()
		2常用的生命周期方法
			created()/mounted(): 发送ajax 请求 启动定时器 等异步操作
			beforeStroy() 做收尾工作
		-->
		<script type="text/javascript" src="../js/vue.js"></script>
		<script type="text/javascript">
			new Vue({
				el:'#app',
				data:{
					isShow: true,
				},
				beforeCreate(){
					console.log("beforeCreate()")
				},
				created(){
					console.log("created()")
				},
				beforeMount(){
					console.log("beforeMount()")
				},
				mounted(){
					this.intervalId=setInterval( () =>{//函数内部还有函数则不能再使用this
					    console.log("--------")
						this.isShow = !this.isShow
					},1000)
				},
				beforeUpdate(){
					console.log("beforeUpdate()")
				},
				updated(){
					console.log("updated()")
				},
				beforeDestroy(){////destroy  
					console.log("beforeDestory")
					clearInterval(this.intervalId)
				},
				destroyed(){
					console.log("destoryed()")
				},
				methods:{
					destroyVM(){
						//干掉VM
						alert(this.intervalId),
						this.$destroy()
					}
				}
			})
		</script>
	</body>
</html>
